[5.创建高性能的索引](#5-创建高性能的索引)

​	[5.1索引基础](#51-索引基础)







# 5. 创建高性能的索引

索引，MySQL也叫“键（key）”，是存储引擎用于快速找到记录的一种数据结构，这是索引的基本功能。

索引对于良好的性能非常关键。当表中的数据量越来越大时，索引对性能的影响越重要。

不恰当的索引，在数据量较小且负载较低时，对性能影响不大，当数据量逐渐增大时，性能会**急剧下降**

**索引优化是对查询性能优化的最有效的手段**。索引能轻易**将查询性能提高几个数量级。**

“最优”的索引有时会比一个“好的”索引性能要好2个数量级。

创建一个真正”最优“索引经常需要重写查询。-- ?

---

### 5.1 索引基础

* **索引是如何工作的？**

例子：你想要在一本书中找到某个特定的主题，你可以去看看这本书的”索引“（可以理解为目录）部分，然后就可以找到对应的页码。

在MySQL中，存储引擎用以上类似的方法使用索引，其先在索引中找到对于的值，然后根据匹配的索引记录找到对应的数据行。

通过`SELECT user_name FROM cust_user where user_id = 5 `来分析索引：

假设在`user_id`列上建有索引，MySQL将使用该索引找到`user_id = 5`的行，也就是说，**MySQL会先在索引上按值进行查找，然后返回所有包含该值的数据行。**

---

* **索引可以包含一个或多个列的值**

**如果索引包含多个列，那么列的顺序十分重要，**因为**MySQL只能高效地使用索引的最左前缀列。**

创建一个包含2个列的索引，和创建2个只包含1列的索引是大不相同的。

---

#### 5.1.1索引的类型

并没有统一的索引标准：不同的存储引擎的索引的工作方式并不一样，也不是所有的存储引擎都支持所有类型的索引。

即使多个存储引擎支持同一种类型的索引，其底层的实现也可能不同。

**MySQL中，索引是在存储引擎层实现的，而非服务器层**

以下是MySQL支持的索引类型

---

* **B-Tree索引**




